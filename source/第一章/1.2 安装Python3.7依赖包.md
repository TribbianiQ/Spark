# 1.2 安装Python3.7依赖包



## 1.2.1 配置阿里云yum源
### Step 1:下载repo文件
在主节点中打开centos的yum文件夹，用wget下载repo文件

```bash
cd /etc/yum.repos.d/
wget http://mirrors.aliyun.com/repo/Centos-7.repo
```

若：wget命令不生效，说明还没有安装wget工具，输入`yum -y install wget`回车进行安装。（当前目录是/etc/yum.repos.d/，刚刚下载的Centos-7.repo也在这个目录上)

### Step 2：备份并替换系统原来的repo文件
```bash
mv CentOS-Base.repo CentOS-Base.repo.bak
mv Centos-7.repo CentOS-Base.repo
```

### Step 3：执行yum源更新命令
```bash
yum clean all
yum makecache
yum update
```

## 1.2.2 安装Python3.7依赖包
### Step 1:
分别在01、02、03服务器批量安装开发工具`Development tools`

分别在01、02、03服务器上安装依赖环境

```bash
yum -y groupinstall "Development tools"
yum  -y install zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gdbm-devel db4-devel libpcap-devel xz-devel libbz2-devel libffi-devel
```

### Step 2:检测openssl与系统版本是否一致
在01、02、03上检测openssl与系统版本是否一致

```bash
rpm -qa |grep openssl
```

<img src =>

### Step 3:检查有无缺少zlib的解压缩类库
```bash
rpm -qa |grep zlib
```
<img src=>

## 1.2.3 Python3.7安装配置
### Step 1：在线下载安装python3.7源码包
在线下载安装python3.7源码包（基于Linux的python安装包），在hadoop-shell命令行环境下，进入python官网下载python-3.7.0.tar.xz安装包，并将其下载到01的/export/software目录

```bash
cd /export/software
wget https://www.python.org/ftp/ptyhon/3.7.0/Python-3.7.0.tar.xz
```

### Step 2:解压并重命名python3.7源码包
解压python-3.7.0.tar.xz到/export/servers中，再查询解压文件、重命名python-3.7.0为python

```bash
tar -xf Python-3.7.0.tar.xz -C /export/servers
cd /export/servers
ll -a
mv Python-3.7.0/ python
cd ./python
ll -a
```

### Step 3：初始配置
预设要将python软件安装到/export/servers/pthon3.7目录

```bash
cd /export/servers/python
./configure –prefix=/export/servers/python3.7
```

